# 4. S·ª± tr·ª´u t∆∞·ª£ng: Process (ti·∫øn tr√¨nh)

Trong ch∆∞∆°ng n√†y, ch√∫ng ta s·∫Ω th·∫£o lu·∫≠n v·ªÅ m·ªôt trong nh·ªØng **s·ª± tr·ª´u t∆∞·ª£ng (abstraction)** c∆° b·∫£n nh·∫•t m√† h·ªá ƒëi·ªÅu h√†nh cung c·∫•p cho ng∆∞·ªùi d√πng: **process (ti·∫øn tr√¨nh)**.

M·ªôt ƒë·ªãnh nghƒ©a kh√¥ng ch√≠nh th·ª©c v·ªÅ process kh√° ƒë∆°n gi·∫£n: ƒë√≥ l√† m·ªôt **ch∆∞∆°ng tr√¨nh ƒëang ch·∫°y** \[V+65, BH70]. B·∫£n th√¢n ch∆∞∆°ng tr√¨nh khi n·∫±m tr√™n ƒëƒ©a ch·ªâ l√† m·ªôt th·ª±c th·ªÉ ‚Äúv√¥ h·ªìn‚Äù: m·ªôt t·∫≠p h·ª£p c√°c l·ªánh (v√† c√≥ th·ªÉ l√† static data (d·ªØ li·ªáu tƒ©nh)), ch·ªù ƒë∆∞·ª£c k√≠ch ho·∫°t. Ch√≠nh h·ªá ƒëi·ªÅu h√†nh l√† th√†nh ph·∫ßn l·∫•y nh·ªØng byte ƒë√≥, cho ch√∫ng ch·∫°y, v√† bi·∫øn ch∆∞∆°ng tr√¨nh th√†nh m·ªôt th·ª±c th·ªÉ h·ªØu √≠ch.

Th·ª±c t·∫ø, ng∆∞·ªùi d√πng th∆∞·ªùng mu·ªën ch·∫°y nhi·ªÅu ch∆∞∆°ng tr√¨nh c√πng l√∫c; v√≠ d·ª•, tr√™n m√°y t√≠nh ƒë·ªÉ b√†n ho·∫∑c laptop, b·∫°n c√≥ th·ªÉ ch·∫°y tr√¨nh duy·ªát web, ch∆∞∆°ng tr√¨nh email, m·ªôt tr√≤ ch∆°i, m·ªôt tr√¨nh ph√°t nh·∫°c,... Th·∫≠m ch√≠, m·ªôt h·ªá th·ªëng ƒëi·ªÉn h√¨nh c√≥ th·ªÉ ch·∫°y h√†ng ch·ª•c ho·∫∑c h√†ng trƒÉm process ƒë·ªìng th·ªùi. ƒêi·ªÅu n√†y l√†m h·ªá th·ªëng tr·ªü n√™n d·ªÖ s·ª≠ d·ª•ng, v√¨ ng∆∞·ªùi d√πng kh√¥ng c·∫ßn b·∫≠n t√¢m xem CPU c√≥ ƒëang r·∫£nh hay kh√¥ng; ƒë∆°n gi·∫£n ch·ªâ l√† ‚Äúch·∫°y ch∆∞∆°ng tr√¨nh‚Äù. T·ª´ ƒë√¢y, n·∫£y sinh m·ªôt th√°ch th·ª©c:

> **V·∫§N ƒê·ªÄ C·ªêT L√ïI: L√ÄM TH·∫æ N√ÄO ƒê·ªÇ T·∫†O RA ·∫¢O GI√ÅC V·ªÄ NHI·ªÄU CPU?**
>
> Trong khi th·ª±c t·∫ø ch·ªâ c√≥ v√†i CPU v·∫≠t l√Ω, l√†m th·∫ø n√†o h·ªá ƒëi·ªÅu h√†nh c√≥ th·ªÉ t·∫°o ra ·∫£o gi√°c r·∫±ng c√≥ m·ªôt ngu·ªìn CPU g·∫ßn nh∆∞ v√¥ h·∫°n?

H·ªá ƒëi·ªÅu h√†nh gi·∫£i quy·∫øt b·∫±ng c√°ch **·∫£o h√≥a CPU (virtualizing the CPU)**. B·∫±ng c√°ch ch·∫°y m·ªôt process, r·ªìi d·ª´ng n√≥ ƒë·ªÉ ch·∫°y process kh√°c, v√† l·∫∑p l·∫°i, h·ªá ƒëi·ªÅu h√†nh t·∫°o ra ·∫£o gi√°c r·∫±ng c√≥ nhi·ªÅu CPU ·∫£o t·ªìn t·∫°i, trong khi th·ª±c t·∫ø ch·ªâ c√≥ m·ªôt (ho·∫∑c m·ªôt v√†i) CPU v·∫≠t l√Ω. K·ªπ thu·∫≠t c∆° b·∫£n n√†y g·ªçi l√† **time sharing (chia s·∫ª theo th·ªùi gian)** CPU. Nh·ªù ƒë√≥, ng∆∞·ªùi d√πng c√≥ th·ªÉ ch·∫°y nhi·ªÅu process ƒë·ªìng th·ªùi; chi ph√≠ ph·∫£i tr·∫£ l√† hi·ªáu nƒÉng, v√¨ m·ªói process s·∫Ω ch·∫°y ch·∫≠m h∆°n khi CPU ph·∫£i ƒë∆∞·ª£c chia s·∫ª.

ƒê·ªÉ hi·ªán th·ª±c h√≥a ·∫£o h√≥a CPU m·ªôt c√°ch hi·ªáu qu·∫£, h·ªá ƒëi·ªÅu h√†nh c·∫ßn c·∫£ **c∆° ch·∫ø (mechanism)** ·ªü m·ª©c th·∫•p l·∫´n **policy** (ch√≠nh s√°ch) ·ªü m·ª©c cao.

**Mechanism (c∆° ch·∫ø)**: c√°c ph∆∞∆°ng ph√°p ho·∫∑c giao th·ª©c m·ª©c th·∫•p ƒë·ªÉ hi·ªán th·ª±c m·ªôt ch·ª©c nƒÉng c·∫ßn thi·∫øt. V√≠ d·ª•: ta s·∫Ω h·ªçc v·ªÅ **context switch (chuy·ªÉn ng·ªØ c·∫£nh)** ‚Äî c∆° ch·∫ø cho ph√©p OS d·ª´ng m·ªôt ch∆∞∆°ng tr√¨nh v√† b·∫Øt ƒë·∫ßu ch·∫°y ch∆∞∆°ng tr√¨nh kh√°c tr√™n CPU. ƒê√¢y l√† c∆° ch·∫ø time sharing m√† m·ªçi h·ªá ƒëi·ªÅu h√†nh hi·ªán ƒë·∫°i ƒë·ªÅu s·ª≠ d·ª•ng.

> üí° **TIP: S·ª≠ d·ª•ng Time Sharing v√† Space Sharing**
>
> Time sharing l√† k·ªπ thu·∫≠t c∆° b·∫£n gi√∫p h·ªá ƒëi·ªÅu h√†nh chia s·∫ª m·ªôt t√†i nguy√™n. T√†i nguy√™n (v√≠ d·ª• CPU ho·∫∑c ƒë∆∞·ªùng truy·ªÅn m·∫°ng) ƒë∆∞·ª£c cho m·ªôt ƒë·ªëi t∆∞·ª£ng s·ª≠ d·ª•ng m·ªôt th·ªùi gian ng·∫Øn, sau ƒë√≥ ƒë·∫øn ƒë·ªëi t∆∞·ª£ng kh√°c, lu√¢n phi√™n nh∆∞ v·∫≠y.
>
> Ng∆∞·ª£c l·∫°i, **space sharing (chia s·∫ª theo kh√¥ng gian)** chia t√†i nguy√™n theo ‚Äúkh√¥ng gian‚Äù. V√≠ d·ª•, dung l∆∞·ª£ng ƒëƒ©a l√† m·ªôt t√†i nguy√™n space-shared: khi m·ªôt block ƒë√£ ƒë∆∞·ª£c g√°n cho m·ªôt file, n√≥ s·∫Ω kh√¥ng ƒë∆∞·ª£c g√°n cho file kh√°c cho ƒë·∫øn khi ng∆∞·ªùi d√πng x√≥a file ban ƒë·∫ßu.

**Policy**: l√† c√°c thu·∫≠t to√°n ƒë∆∞a ra quy·∫øt ƒë·ªãnh trong h·ªá ƒëi·ªÅu h√†nh. V√≠ d·ª•: khi c√≥ nhi·ªÅu ch∆∞∆°ng tr√¨nh s·∫µn s√†ng ch·∫°y tr√™n CPU, OS c·∫ßn quy·∫øt ƒë·ªãnh ch·∫°y ch∆∞∆°ng tr√¨nh n√†o. **Scheduling policy (ch√≠nh s√°ch l·∫≠p l·ªãch)** s·∫Ω ƒë∆∞a ra quy·∫øt ƒë·ªãnh n√†y, th∆∞·ªùng d·ª±a tr√™n th√¥ng tin l·ªãch s·ª≠ (v√≠ d·ª•: ch∆∞∆°ng tr√¨nh n√†o ƒë√£ ch·∫°y nhi·ªÅu h∆°n trong ph√∫t v·ª´a qua?), ƒë·∫∑c ƒëi·ªÉm workload (lo·∫°i ch∆∞∆°ng tr√¨nh ƒëang ch·∫°y), v√† ti√™u ch√≠ hi·ªáu nƒÉng (t·ªëi ∆∞u cho t√≠nh t∆∞∆°ng t√°c hay cho th√¥ng l∆∞·ª£ng?).


## 4.1 S·ª± tr·ª´u t∆∞·ª£ng: Process

S·ª± tr·ª´u t∆∞·ª£ng m√† h·ªá ƒëi·ªÅu h√†nh cung c·∫•p cho m·ªôt ch∆∞∆°ng tr√¨nh ƒëang ch·∫°y ch√≠nh l√† **process**. Nh∆∞ ƒë√£ n√≥i ·ªü tr√™n, process ƒë∆°n gi·∫£n l√† m·ªôt ch∆∞∆°ng tr√¨nh ƒëang excecute. T·∫°i m·ªôt th·ªùi ƒëi·ªÉm b·∫•t k·ª≥, ta c√≥ th·ªÉ m√¥ t·∫£ process b·∫±ng c√°ch li·ªát k√™ nh·ªØng th√†nh ph·∫ßn h·ªá th·ªëng m√† n√≥ truy c·∫≠p ho·∫∑c ·∫£nh h∆∞·ªüng trong su·ªët qu√° tr√¨nh ch·∫°y.

ƒê·ªÉ hi·ªÉu process g·ªìm nh·ªØng g√¨, ta c·∫ßn hi·ªÉu **machine state (tr·∫°ng th√°i m√°y)**: t·ª©c l√† t·∫≠p h·ª£p c√°c gi√° tr·ªã m√† ch∆∞∆°ng tr√¨nh c√≥ th·ªÉ ƒë·ªçc ho·∫∑c ghi trong khi excecute. V·∫≠y, t·∫°i m·ªôt th·ªùi ƒëi·ªÉm b·∫•t k·ª≥, nh·ªØng ph·∫ßn n√†o c·ªßa m√°y t√≠nh quan tr·ªçng ƒë·ªëi v·ªõi vi·ªác ch·∫°y ch∆∞∆°ng tr√¨nh?

**Memory (b·ªô nh·ªõ)**: th√†nh ph·∫ßn r√µ r√†ng nh·∫•t. C√°c l·ªánh c·ªßa ch∆∞∆°ng tr√¨nh n·∫±m trong b·ªô nh·ªõ; d·ªØ li·ªáu m√† ch∆∞∆°ng tr√¨nh ƒë·ªçc v√† ghi c≈©ng n·∫±m trong b·ªô nh·ªõ. V√¨ v·∫≠y, v√πng b·ªô nh·ªõ m√† process c√≥ th·ªÉ truy c·∫≠p (g·ªçi l√† **address space ‚Äì kh√¥ng gian ƒë·ªãa ch·ªâ**) l√† m·ªôt ph·∫ßn c·ªßa process.

**Registers (thanh ghi)**: nhi·ªÅu l·ªánh c·ªßa CPU tr·ª±c ti·∫øp ƒë·ªçc/ghi c√°c thanh ghi, n√™n ch√∫ng c≈©ng l√† th√†nh ph·∫ßn c·ªët l√µi c·ªßa machine state. ƒê·∫∑c bi·ªát c√≥ m·ªôt s·ªë thanh ghi quan tr·ªçng bao g·ªìm **Program Counter (PC)**, c√≤n g·ªçi l√† **Instruction Pointer (IP)**, cho bi·∫øt l·ªánh ti·∫øp theo c·∫ßn excecute. ƒê·ªìng th·ªùi, c√≤n c√≥ **Stack Pointer** v√† **Frame Pointer** ƒëi k√®m ƒë∆∞·ª£c d√πng ƒë·ªÉ qu·∫£n l√Ω **stack** (ngƒÉn x·∫øp), n∆°i l∆∞u tham s·ªë h√†m (function parameters), bi·∫øn c·ª•c b·ªô (local variables) v√† ƒë·ªãa ch·ªâ tr·∫£ v·ªÅ (return addresses).

**I/O state (tr·∫°ng th√°i nh·∫≠p/xu·∫•t)**: ch∆∞∆°ng tr√¨nh th∆∞·ªùng truy c·∫≠p c·∫£ c√°c thi·∫øt b·ªã l∆∞u tr·ªØ l√¢u d√†i. V√≠ d·ª•: process c√≥ th·ªÉ duy tr√¨ danh s√°ch c√°c file ƒëang m·ªü.

> **TIP: T√°ch bi·ªát Policy v√† Mechanism**
>
> Trong nhi·ªÅu h·ªá ƒëi·ªÅu h√†nh, nguy√™n l√Ω thi·∫øt k·∫ø ph·ªï bi·∫øn l√† **t√°ch bi·ªát policy v√† mechanism** \[L+75].
>
> * **Mechanism** tr·∫£ l·ªùi c√¢u h·ªèi ‚Äúl√†m th·∫ø n√†o‚Äù (*how*). V√≠ d·ª•: l√†m th·∫ø n√†o ƒë·ªÉ OS th·ª±c hi·ªán context switch?
> * **Policy** tr·∫£ l·ªùi c√¢u h·ªèi ‚Äúch·ªçn c√°i n√†o‚Äù (*which*). V√≠ d·ª•: OS n√™n ch·∫°y process n√†o ngay l√∫c n√†y?
>   
>   Vi·ªác t√°ch r·ªùi n√†y cho ph√©p thay ƒë·ªïi policy d·ªÖ d√†ng m√† kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn c∆° ch·∫ø, v√† ƒë√¢y c≈©ng l√† m·ªôt d·∫°ng **modularity (t√≠nh m√¥-ƒëun)** ‚Äî nguy√™n t·∫Øc chung trong thi·∫øt k·∫ø ph·∫ßn m·ªÅm.

## 4.2 API c·ªßa Process (Ti·∫øn tr√¨nh)

M·∫∑c d√π ch√∫ng ta s·∫Ω ho√£n vi·ªác b√†n chi ti·∫øt v·ªÅ m·ªôt API process th·ª±c s·ª± cho ƒë·∫øn c√°c ch∆∞∆°ng sau, nh∆∞ng tr∆∞·ªõc h·∫øt, ·ªü ƒë√¢y ta s·∫Ω ph√°c th·∫£o nh·ªØng th√†nh ph·∫ßn c∆° b·∫£n c·∫ßn c√≥ trong b·∫•t k·ª≥ interface (giao di·ªán) n√†o c·ªßa h·ªá ƒëi·ªÅu h√†nh. C√°c API n√†y, d∆∞·ªõi m·ªôt d·∫°ng n√†o ƒë√≥, ƒë·ªÅu c√≥ m·∫∑t trong m·ªçi h·ªá ƒëi·ªÅu h√†nh hi·ªán ƒë·∫°i.

* **Create (T·∫°o):** H·ªá ƒëi·ªÅu h√†nh ph·∫£i cung c·∫•p ph∆∞∆°ng th·ª©c ƒë·ªÉ t·∫°o process m·ªõi. Khi b·∫°n g√µ m·ªôt l·ªánh trong shell, ho·∫∑c nh·∫•p ƒë√∫p v√†o bi·ªÉu t∆∞·ª£ng ·ª©ng d·ª•ng, h·ªá ƒëi·ªÅu h√†nh s·∫Ω ƒë∆∞·ª£c g·ªçi ƒë·ªÉ t·∫°o ra m·ªôt process m·ªõi nh·∫±m ch·∫°y ch∆∞∆°ng tr√¨nh b·∫°n y√™u c·∫ßu.
* **Destroy (H·ªßy):** C≈©ng nh∆∞ vi·ªác t·∫°o process, h·ªá ƒëi·ªÅu h√†nh ph·∫£i cung c·∫•p interface ƒë·ªÉ h·ªßy process m·ªôt c√°ch c∆∞·ª°ng b·ª©c. T·∫•t nhi√™n, nhi·ªÅu process s·∫Ω t·ª± ch·∫°y v√† tho√°t khi ho√†n t·∫•t; tuy nhi√™n, khi ch√∫ng kh√¥ng l√†m v·∫≠y, ng∆∞·ªùi d√πng c√≥ th·ªÉ mu·ªën ‚Äúkill‚Äù (d·ª´ng) ch√∫ng, v√† do ƒë√≥, interface ƒë·ªÉ k·∫øt th√∫c m·ªôt process ‚Äúch·∫°y m·∫•t ki·ªÉm so√°t‚Äù l√† r·∫•t h·ªØu √≠ch.
* **Wait (Ch·ªù):** ƒê√¥i khi, ng∆∞·ªùi d√πng c·∫ßn ch·ªù cho ƒë·∫øn khi m·ªôt process k·∫øt th√∫c; do ƒë√≥, h·∫ßu h·∫øt h·ªá ƒëi·ªÅu h√†nh ƒë·ªÅu cung c·∫•p m·ªôt interface ch·ªù process.
* **Miscellaneous Control (C√°c ƒëi·ªÅu khi·ªÉn kh√°c):** Ngo√†i vi·ªác h·ªßy ho·∫∑c ch·ªù process, h·ªá ƒëi·ªÅu h√†nh c√≤n cung c·∫•p th√™m c√°c ƒëi·ªÅu khi·ªÉn kh√°c. V√≠ d·ª•, h·∫ßu h·∫øt h·ªá ƒëi·ªÅu h√†nh cho ph√©p t·∫°m d·ª´ng (suspend) m·ªôt process v√† sau ƒë√≥ kh√¥i ph·ª•c (resume) n√≥ ƒë·ªÉ ti·∫øp t·ª•c ch·∫°y.
* **Status (Tr·∫°ng th√°i):** Th∆∞·ªùng c√≥ c√°c interface ƒë·ªÉ l·∫•y th√¥ng tin tr·∫°ng th√°i c·ªßa process, ch·∫≥ng h·∫°n nh∆∞ process ƒë√£ ch·∫°y bao l√¢u ho·∫∑c hi·ªán t·∫°i ƒëang ·ªü tr·∫°ng th√°i n√†o.

![](./img/fig4_1.PNG)

**H√¨nh 4.1: Qu√° tr√¨nh load ‚Äì T·ª´ Ch∆∞∆°ng tr√¨nh th√†nh Process**

## 4.3 T·∫°o Process: Chi ti·∫øt h∆°n m·ªôt ch√∫t

M·ªôt ƒëi·ªÅu b√≠ ·∫©n m√† ta c·∫ßn l√†m r√µ l√†: l√†m th·∫ø n√†o ch∆∞∆°ng tr√¨nh (program) ƒë∆∞·ª£c bi·∫øn th√†nh process? C·ª• th·ªÉ h∆°n, h·ªá ƒëi·ªÅu h√†nh l√†m th·∫ø n√†o ƒë·ªÉ kh·ªüi ch·∫°y m·ªôt ch∆∞∆°ng tr√¨nh? Qu√° tr√¨nh t·∫°o process th·ª±c s·ª± di·ªÖn ra nh∆∞ th·∫ø n√†o?

B∆∞·ªõc ƒë·∫ßu ti√™n m√† h·ªá ƒëi·ªÅu h√†nh ph·∫£i th·ª±c hi·ªán l√† **load m√£ l·ªánh (code)** v√† static data (v√≠ d·ª•: c√°c bi·∫øn ƒë√£ kh·ªüi t·∫°o) c·ªßa ch∆∞∆°ng tr√¨nh v√†o b·ªô nh·ªõ, trong *kh√¥ng gian ƒë·ªãa ch·ªâ* (address space) c·ªßa process. Ban ƒë·∫ßu, ch∆∞∆°ng tr√¨nh n·∫±m tr√™n ƒëƒ©a (ho·∫∑c, trong nhi·ªÅu h·ªá th·ªëng hi·ªán ƒë·∫°i, ·ªï SSD d·∫°ng flash) d∆∞·ªõi m·ªôt ƒë·ªãnh d·∫°ng excecute. Do ƒë√≥, vi·ªác load ch∆∞∆°ng tr√¨nh v√† static data v√†o b·ªô nh·ªõ ƒë√≤i h·ªèi h·ªá ƒëi·ªÅu h√†nh ph·∫£i ƒë·ªçc c√°c byte t·ª´ ƒëƒ©a v√† ƒë·∫∑t ch√∫ng v√†o m·ªôt v·ªã tr√≠ n√†o ƒë√≥ trong b·ªô nh·ªõ (nh∆∞ minh h·ªça trong H√¨nh 4.1).

Trong c√°c h·ªá ƒëi·ªÅu h√†nh ƒë∆°n gi·∫£n (ho·∫∑c ƒë·ªùi ƒë·∫ßu), qu√° tr√¨nh load th∆∞·ªùng ƒë∆∞·ª£c th·ª±c hi·ªán **eagerly** (t·ª©c l√† load to√†n b·ªô tr∆∞·ªõc khi ch·∫°y). Ng∆∞·ª£c l·∫°i, c√°c h·ªá ƒëi·ªÅu h√†nh hi·ªán ƒë·∫°i √°p d·ª•ng c√°ch **lazy loading** (load t·ª´ng ph·∫ßn m√£ ho·∫∑c d·ªØ li·ªáu ch·ªâ khi c·∫ßn trong qu√° tr√¨nh excecute). ƒê·ªÉ hi·ªÉu r√µ lazy loading ho·∫°t ƒë·ªông th·∫ø n√†o, ch√∫ng ta c·∫ßn n·∫Øm v·ªØng c√°c c∆° ch·∫ø nh∆∞ *paging* (trang b·ªô nh·ªõ) v√† *swapping* (ho√°n ƒë·ªïi), s·∫Ω ƒë∆∞·ª£c b√†n k·ªπ h∆°n trong ph·∫ßn ·∫£o h√≥a b·ªô nh·ªõ. T·∫°m th·ªùi, b·∫°n ch·ªâ c·∫ßn nh·ªõ r·∫±ng tr∆∞·ªõc khi ch·∫°y b·∫•t c·ª© th·ª© g√¨, h·ªá ƒëi·ªÅu h√†nh ph·∫£i l√†m c√¥ng vi·ªác chu·∫©n b·ªã: ƒë∆∞a c√°c ph·∫ßn quan tr·ªçng c·ªßa ch∆∞∆°ng tr√¨nh t·ª´ ƒëƒ©a v√†o b·ªô nh·ªõ.

Khi m√£ l·ªánh v√† static data ƒë√£ ƒë∆∞·ª£c load v√†o b·ªô nh·ªõ, h·ªá ƒëi·ªÅu h√†nh c√≤n ph·∫£i l√†m th√™m m·ªôt s·ªë vi·ªác tr∆∞·ªõc khi process c√≥ th·ªÉ ch·∫°y:

* **C·∫•p ph√°t b·ªô nh·ªõ cho ngƒÉn x·∫øp (stack):** C√°c ch∆∞∆°ng tr√¨nh C s·ª≠ d·ª•ng stack ƒë·ªÉ l∆∞u bi·∫øn c·ª•c b·ªô, tham s·ªë h√†m v√† ƒë·ªãa ch·ªâ tr·∫£ v·ªÅ. H·ªá ƒëi·ªÅu h√†nh s·∫Ω c·∫•p ph√°t v√πng nh·ªõ n√†y v√† g√°n n√≥ cho process. Ngo√†i ra, n√≥ c√≤n kh·ªüi t·∫°o stack v·ªõi tham s·ªë ƒë·∫ßu v√†o, c·ª• th·ªÉ l√† c√°c gi√° tr·ªã truy·ªÅn cho h√†m `main()`, t·ª©c l√† `argc` v√† m·∫£ng `argv`.
* **C·∫•p ph√°t b·ªô nh·ªõ cho heap:** Trong C, heap ƒë∆∞·ª£c d√πng ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu ƒë∆∞·ª£c c·∫•p ph√°t ƒë·ªông (dynamic memory). Ch∆∞∆°ng tr√¨nh y√™u c·∫ßu v√πng nh·ªõ n√†y th√¥ng qua l·ªùi g·ªçi `malloc()`, v√† gi·∫£i ph√≥ng n√≥ b·∫±ng `free()`. Heap th∆∞·ªùng nh·ªè ban ƒë·∫ßu, nh∆∞ng c√≥ th·ªÉ m·ªü r·ªông khi ch∆∞∆°ng tr√¨nh ch·∫°y v√† y√™u c·∫ßu th√™m b·ªô nh·ªõ; l√∫c ƒë√≥ h·ªá ƒëi·ªÅu h√†nh c√≥ th·ªÉ c·∫•p th√™m. Heap th∆∞·ªùng d√πng cho c√°c c·∫•u tr√∫c d·ªØ li·ªáu ph·ª©c t·∫°p nh∆∞ danh s√°ch li√™n k·∫øt, b·∫£ng bƒÉm, c√¢y, v.v.
* **Kh·ªüi t·∫°o I/O:** V√≠ d·ª•, trong c√°c h·ªá th·ªëng UNIX, m·ªói process m·∫∑c ƒë·ªãnh c√≥ 3 *file descriptor* (b·ªô m√¥ t·∫£ t·ªáp) m·ªü s·∫µn: chu·∫©n nh·∫≠p (stdin), chu·∫©n xu·∫•t (stdout), v√† chu·∫©n l·ªói (stderr). Nh·ªù ƒë√≥, ch∆∞∆°ng tr√¨nh c√≥ th·ªÉ d·ªÖ d√†ng ƒë·ªçc d·ªØ li·ªáu t·ª´ terminal v√† in k·∫øt qu·∫£ ra m√†n h√¨nh.

Sau khi load m√£ l·ªánh v√† static data, t·∫°o stack, chu·∫©n b·ªã heap, v√† thi·∫øt l·∫≠p I/O, h·ªá ƒëi·ªÅu h√†nh ƒë√£ s·∫µn s√†ng ƒë·ªÉ process b·∫Øt ƒë·∫ßu excecute. B∆∞·ªõc cu·ªëi c√πng l√† chuy·ªÉn quy·ªÅn ƒëi·ªÅu khi·ªÉn CPU sang ch∆∞∆°ng tr√¨nh t·∫°i ƒëi·ªÉm v√†o (entry point), th∆∞·ªùng l√† h√†m `main()`. B·∫±ng c√°ch ‚Äúnh·∫£y‚Äù ƒë·∫øn `main()` (th√¥ng qua m·ªôt c∆° ch·∫ø ƒë·∫∑c bi·ªát s·∫Ω ƒë∆∞·ª£c b√†n trong ch∆∞∆°ng ti·∫øp theo), h·ªá ƒëi·ªÅu h√†nh ƒë√£ ch√≠nh th·ª©c kh·ªüi ƒë·ªông process.


## 4.4 C√°c Tr·∫°ng Th√°i c·ªßa Process

Gi·ªù ƒë√¢y, khi ƒë√£ n·∫Øm ƒë∆∞·ª£c process l√† g√¨ v√† s∆° b·ªô c√°ch n√≥ ƒë∆∞·ª£c t·∫°o ra, ch√∫ng ta s·∫Ω b√†n v·ªÅ c√°c tr·∫°ng th√°i m√† m·ªôt process c√≥ th·ªÉ ·ªü t·∫°i m·ªôt th·ªùi ƒëi·ªÉm. Kh√°i ni·ªám process c√≥ th·ªÉ t·ªìn t·∫°i trong nhi·ªÅu tr·∫°ng th√°i kh√°c nhau b·∫Øt ngu·ªìn t·ª´ c√°c h·ªá th·ªëng m√°y t√≠nh ƒë·ªùi ƒë·∫ßu \[DV66, V+65].

Trong m·ªôt m√¥ h√¨nh ƒë∆°n gi·∫£n, process c√≥ th·ªÉ ·ªü m·ªôt trong ba tr·∫°ng th√°i:

* **Running (ƒêang ch·∫°y):** Process ƒëang th·ª±c s·ª± ch·∫°y tr√™n CPU, nghƒ©a l√† n√≥ ƒëang excecute c√°c ch·ªâ th·ªã.
* **Ready (S·∫µn s√†ng):** Process ƒë√£ s·∫µn s√†ng ch·∫°y, nh∆∞ng v√¨ l√Ω do n√†o ƒë√≥ h·ªá ƒëi·ªÅu h√†nh ch∆∞a cho n√≥ chi·∫øm CPU ·ªü th·ªùi ƒëi·ªÉm hi·ªán t·∫°i.
* **Blocked (B·ªã ch·∫∑n):** Process ƒëang ch·ªù m·ªôt s·ª± ki·ªán kh√°c ƒë·ªÉ c√≥ th·ªÉ ti·∫øp t·ª•c ch·∫°y. V√≠ d·ª•: khi process g·ª≠i y√™u c·∫ßu I/O ƒë·∫øn ƒëƒ©a, n√≥ s·∫Ω b·ªã ch·∫∑n cho ƒë·∫øn khi thao t√°c ƒë√≥ ho√†n t·∫•t, trong khi ƒë√≥ CPU c√≥ th·ªÉ ph·ª•c v·ª• process kh√°c.

![](./img/fig4_2.PNG)

**H√¨nh 4.2: C√°c tr·∫°ng th√°i c·ªßa Process v√† s·ª± chuy·ªÉn ƒë·ªïi**

Trong s∆° ƒë·ªì tr·∫°ng th√°i (H√¨nh 4.2), b·∫°n c√≥ th·ªÉ th·∫•y process ƒë∆∞·ª£c chuy·ªÉn qua l·∫°i gi·ªØa tr·∫°ng th√°i *ready* v√† *running* d∆∞·ªõi s·ª± ƒëi·ªÅu ph·ªëi c·ªßa h·ªá ƒëi·ªÅu h√†nh.

* T·ª´ *ready ‚Üí running*: process ƒë∆∞·ª£c **schedule** (l·∫≠p l·ªãch ƒë·ªÉ ch·∫°y).
* T·ª´ *running ‚Üí ready*: process b·ªã **deschedule** (d·ª´ng ch·∫°y).
* Khi process chuy·ªÉn sang *blocked*, h·ªá ƒëi·ªÅu h√†nh s·∫Ω gi·ªØ n√≥ trong tr·∫°ng th√°i n√†y cho ƒë·∫øn khi s·ª± ki·ªán c·∫ßn thi·∫øt x·∫£y ra (v√≠ d·ª•: I/O ho√†n t·∫•t), sau ƒë√≥ chuy·ªÉn n√≥ v·ªÅ tr·∫°ng th√°i *ready* (v√† c√≥ th·ªÉ l·∫≠p l·ªãch ch·∫°y ngay).

V√≠ d·ª•: gi·∫£ s·ª≠ c√≥ hai process ch·∫°y, c·∫£ hai ch·ªâ d√πng CPU (kh√¥ng I/O). D·∫•u v·∫øt tr·∫°ng th√°i (trace) c·ªßa ch√∫ng s·∫Ω gi·ªëng nh∆∞ H√¨nh 4.3.


![](./img/fig4_3.PNG)

**H√¨nh 4.3: D·∫•u v·∫øt tr·∫°ng th√°i process ‚Äì ch·ªâ d√πng CPU**

Trong v√≠ d·ª• ti·∫øp theo, m·ªôt process th·ª±c hi·ªán I/O sau m·ªôt th·ªùi gian ch·∫°y. Khi ƒë√≥ n√≥ chuy·ªÉn sang tr·∫°ng th√°i *blocked*, nh∆∞·ªùng CPU cho process c√≤n l·∫°i. D·∫•u v·∫øt t√¨nh hu·ªëng n√†y ƒë∆∞·ª£c th·ªÉ hi·ªán ·ªü H√¨nh 4.4.

![](./img/fig4_4.PNG)

**H√¨nh 4.4: D·∫•u v·∫øt tr·∫°ng th√°i process ‚Äì CPU v√† I/O**

C·ª• th·ªÉ, Process0 th·ª±c hi·ªán m·ªôt y√™u c·∫ßu I/O v√† b·ªã ch·∫∑n ƒë·ªÉ ch·ªù k·∫øt qu·∫£; ƒëi·ªÅu n√†y th∆∞·ªùng x·∫£y ra khi ƒë·ªçc t·ª´ ƒëƒ©a ho·∫∑c ch·ªù g√≥i tin m·∫°ng. H·ªá ƒëi·ªÅu h√†nh nh·∫≠n th·∫•y Process0 kh√¥ng d√πng CPU, n√™n l·∫≠p l·ªãch ch·∫°y Process1. Trong khi Process1 ch·∫°y, I/O ho√†n t·∫•t, Process0 chuy·ªÉn v·ªÅ tr·∫°ng th√°i *ready*. Khi Process1 k·∫øt th√∫c, Process0 ƒë∆∞·ª£c ch·∫°y ti·∫øp cho ƒë·∫øn khi ho√†n th√†nh.

**L∆∞u √Ω**: ngay c·∫£ trong v√≠ d·ª• ƒë∆°n gi·∫£n n√†y, h·ªá ƒëi·ªÅu h√†nh v·∫´n ph·∫£i ƒë∆∞a ra nhi·ªÅu quy·∫øt ƒë·ªãnh. Th·ª© nh·∫•t, h·ªá th·ªëng ch·ªçn ch·∫°y Process1 trong khi Process0 b·ªã ch·∫∑n I/O ‚Äì ƒëi·ªÅu n√†y gi√∫p t·∫≠n d·ª•ng CPU t·ªët h∆°n. Th·ª© hai, khi I/O c·ªßa Process0 ho√†n t·∫•t, h·ªá ƒëi·ªÅu h√†nh **kh√¥ng l·∫≠p t·ª©c chuy·ªÉn l·∫°i cho Process0** m√† ƒë·ªÉ Process1 ti·∫øp t·ª•c. ƒê√¢y c√≥ ph·∫£i l√† quy·∫øt ƒë·ªãnh ƒë√∫ng hay kh√¥ng? Nh·ªØng quy·∫øt ƒë·ªãnh nh∆∞ v·∫≠y ƒë∆∞·ª£c ƒë∆∞a ra b·ªüi **OS scheduler (b·ªô l·∫≠p l·ªãch c·ªßa h·ªá ƒëi·ªÅu h√†nh)** ‚Äì ch·ªß ƒë·ªÅ ch√∫ng ta s·∫Ω b√†n k·ªπ h∆°n trong c√°c ch∆∞∆°ng t·ªõi.

## 4.5 C·∫•u Tr√∫c D·ªØ Li·ªáu

H·ªá ƒëi·ªÅu h√†nh c≈©ng ch·ªâ l√† m·ªôt ch∆∞∆°ng tr√¨nh, v√† gi·ªëng nh∆∞ m·ªçi ch∆∞∆°ng tr√¨nh kh√°c, n√≥ s·ª≠ d·ª•ng c√°c **c·∫•u tr√∫c d·ªØ li·ªáu** ƒë·ªÉ qu·∫£n l√Ω th√¥ng tin.

V√≠ d·ª•: ƒë·ªÉ theo d√µi tr·∫°ng th√°i c·ªßa c√°c process, h·ªá ƒëi·ªÅu h√†nh th∆∞·ªùng duy tr√¨ m·ªôt **danh s√°ch process** (process list) ch·ª©a t·∫•t c·∫£ process ƒëang ·ªü tr·∫°ng th√°i *ready*, k√®m th√™m th√¥ng tin v·ªÅ process hi·ªán t·∫°i ƒëang ch·∫°y. H·ªá ƒëi·ªÅu h√†nh c≈©ng c·∫ßn qu·∫£n l√Ω danh s√°ch c√°c process *blocked*; khi m·ªôt s·ª± ki·ªán I/O ho√†n t·∫•t, OS ph·∫£i ƒë√°nh th·ª©c ƒë√∫ng process li√™n quan v√† chuy·ªÉn n√≥ sang tr·∫°ng th√°i *ready*.

H√¨nh 4.5 th·ªÉ hi·ªán Th√¥ng tin OS theo d√µi cho m·ªói process trong nh√¢n xv6 [CK+08]. Trong c√°c h·ªá ƒëi·ªÅu h√†nh th·ª±c t·∫ø nh∆∞ Linux, Mac OS X, hay Windows, c·∫•u tr√∫c qu·∫£n l√Ω process c√≤n ph·ª©c t·∫°p h∆°n nhi·ªÅu. B·∫°n c√≥ th·ªÉ t·ª± t√¨m hi·ªÉu ƒë·ªÉ so s√°nh m·ª©c ƒë·ªô chi ti·∫øt.

Trong h√¨nh, ta th·∫•y m·ªôt s·ªë th√¥ng tin quan tr·ªçng m√† h·ªá ƒëi·ªÅu h√†nh l∆∞u cho m·ªói process. **Register context (Ng·ªØ c·∫£nh thanh ghi):** ƒê·ªëi v·ªõi process b·ªã d·ª´ng, h·ªá ƒëi·ªÅu h√†nh l∆∞u l·∫°i to√†n b·ªô gi√° tr·ªã c√°c thanh ghi v√†o v√πng nh·ªõ n√†y. Khi c·∫ßn ch·∫°y l·∫°i process, OS ch·ªâ vi·ªác kh√¥i ph·ª•c c√°c gi√° tr·ªã v√†o thanh ghi v·∫≠t l√Ω ƒë·ªÉ ti·∫øp t·ª•c excecute. K·ªπ thu·∫≠t n√†y g·ªçi l√† **context switch (chuy·ªÉn ng·ªØ c·∫£nh)** ‚Äì s·∫Ω ƒë∆∞·ª£c b√†n k·ªπ trong c√°c ch∆∞∆°ng ti·∫øp theo.


```c
// the registers xv6 will save and restore
// to stop and subsequently restart a process
struct context {
  int eip;
  int esp;
  int ebx;
  int ecx;
  int edx;
  int esi;
  int edi;
  int ebp;
};
// the different states a process can be in
enum proc_state {
  UNUSED,
  EMBRYO,
  SLEEPING,
  RUNNABLE,
  RUNNING,
  ZOMBIE
};
// the information xv6 tracks about each process
// including its register context and state
struct proc {
  char * mem;
  // Start of process memory
  uint sz;
  // Size of process memory
  char * kstack;
  // Bottom of kernel stack
  // for this process
  enum proc_state state; // Process state
  int pid;
  // Process ID
  struct proc * parent;
  // Parent process
  void * chan;
  // If !zero, sleeping on chan
  int killed;
  // If !zero, has been killed
  struct file * ofile[NOFILE]; // Open files
  struct inode * cwd;
  // Current directory
  struct context context; // Switch here to run process
  struct trapframe * tf;
  // Trap frame for the
  // current interrupt
};
```


B·∫°n c≈©ng c√≥ th·ªÉ th·∫•y t·ª´ h√¨nh minh h·ªça r·∫±ng m·ªôt process (process) c√≥ th·ªÉ ·ªü m·ªôt s·ªë tr·∫°ng th√°i kh√°c ngo√†i ƒëang ch·∫°y (running), s·∫µn s√†ng (ready), v√† b·ªã ch·∫∑n (blocked). ƒê√¥i khi m·ªôt h·ªá th·ªëng s·∫Ω c√≥ m·ªôt tr·∫°ng th√°i ban ƒë·∫ßu (initial state) m√† process ·ªü trong ƒë√≥ khi n√≥ ƒëang ƒë∆∞·ª£c t·∫°o ra. Ngo√†i ra, m·ªôt process c√≥ th·ªÉ ƒë∆∞·ª£c ƒë·∫∑t v√†o m·ªôt tr·∫°ng th√°i cu·ªëi (final state), n∆°i n√≥ ƒë√£ tho√°t ra nh∆∞ng ch∆∞a ƒë∆∞·ª£c d·ªçn d·∫πp (trong c√°c h·ªá th·ªëng d·ª±a tr√™n UNIX, tr·∫°ng th√°i n√†y ƒë∆∞·ª£c g·ªçi l√† **tr·∫°ng th√°i zombie** (th√¢y ma)¬π).

*(Gi·∫£i th√≠ch: Tr·∫°ng th√°i n√†y ƒë∆∞·ª£c g·ªçi l√† "zombie" v√¨ process ƒë√£ "ch·∫øt" - t·ª©c l√† ƒë√£ k·∫øt th√∫c excecute - nh∆∞ng th√¥ng tin v·ªÅ n√≥ v·∫´n c√≤n t·ªìn t·∫°i trong b·∫£ng process, ch∆∞a ƒë∆∞·ª£c "ch√¥n c·∫•t" hay d·ªçn d·∫πp ho√†n to√†n.)*

Tr·∫°ng th√°i cu·ªëi n√†y c√≥ th·ªÉ h·ªØu √≠ch v√¨ n√≥ cho ph√©p c√°c process kh√°c (th∆∞·ªùng l√† process cha ƒë√£ t·∫°o ra process n√†y) ki·ªÉm tra m√£ tr·∫£ v·ªÅ (return code) c·ªßa process v√† xem li·ªáu process v·ª´a ho√†n th√†nh c√≥ excecute th√†nh c√¥ng hay kh√¥ng (th∆∞·ªùng th√¨ c√°c ch∆∞∆°ng tr√¨nh trong h·ªá th·ªëng d·ª±a tr√™n UNIX tr·∫£ v·ªÅ gi√° tr·ªã 0 khi ch√∫ng ƒë√£ ho√†n th√†nh t√°c v·ª• th√†nh c√¥ng, v√† kh√°c 0 trong tr∆∞·ªùng h·ª£p ng∆∞·ª£c l·∫°i). Khi xong vi·ªác, process cha s·∫Ω th·ª±c hi·ªán m·ªôt l·ªùi g·ªçi cu·ªëi c√πng (v√≠ d·ª•, `wait()`) ƒë·ªÉ ch·ªù ƒë·ª£i s·ª± ho√†n th√†nh c·ªßa process con, v√† c≈©ng ƒë·ªÉ b√°o cho OS r·∫±ng n√≥ c√≥ th·ªÉ d·ªçn d·∫πp b·∫•t k·ª≥ c·∫•u tr√∫c d·ªØ li·ªáu n√†o li√™n quan ƒë·∫øn process ƒë√£ kh√¥ng c√≤n t·ªìn t·∫°i n√†y.

---
> **T·∫¢N M·∫†N: C·∫§U TR√öC D·ªÆ LI·ªÜU ‚Äî DANH S√ÅCH TI·∫æN TR√åNH**
>
> C√°c h·ªá ƒëi·ªÅu h√†nh ch·ª©a ƒë·∫ßy ƒë·ªß c√°c c·∫•u tr√∫c d·ªØ li·ªáu quan tr·ªçng kh√°c nhau m√† ch√∫ng ta s·∫Ω th·∫£o lu·∫≠n trong t√†i li·ªáu n√†y. **Danh s√°ch process** (Process List), c√≤n ƒë∆∞·ª£c g·ªçi l√† danh s√°ch t√°c v·ª• (task list), l√† c·∫•u tr√∫c ƒë·∫ßu ti√™n nh∆∞ v·∫≠y. N√≥ l√† m·ªôt trong nh·ªØng c·∫•u tr√∫c ƒë∆°n gi·∫£n h∆°n, nh∆∞ng ch·∫Øc ch·∫Øn b·∫•t k·ª≥ h·ªá ƒëi·ªÅu h√†nh n√†o c√≥ kh·∫£ nƒÉng ch·∫°y nhi·ªÅu ch∆∞∆°ng tr√¨nh c√πng m·ªôt l√∫c s·∫Ω c√≥ m·ªôt th·ª© g√¨ ƒë√≥ t∆∞∆°ng t·ª± nh∆∞ c·∫•u tr√∫c n√†y ƒë·ªÉ theo d√µi t·∫•t c·∫£ c√°c ch∆∞∆°ng tr√¨nh ƒëang ch·∫°y trong h·ªá th·ªëng. ƒê√¥i khi ng∆∞·ªùi ta g·ªçi c·∫•u tr√∫c ri√™ng l·∫ª l∆∞u tr·ªØ th√¥ng tin v·ªÅ m·ªôt process l√† **Kh·ªëi Qu·∫£n l√Ω Process** (Process Control Block - PCB), m·ªôt c√°ch n√≥i hoa m·ªπ ƒë·ªÉ ch·ªâ m·ªôt c·∫•u tr√∫c trong ng√¥n ng·ªØ C ch·ª©a th√¥ng tin v·ªÅ m·ªói process (ƒë√¥i khi c√≤n ƒë∆∞·ª£c g·ªçi l√† b·ªô m√¥ t·∫£ process - process descriptor).
---

## 4.6 T√≥m t·∫Øt

Ch√∫ng ta ƒë√£ gi·ªõi thi·ªáu kh√°i ni·ªám tr·ª´u t∆∞·ª£ng h√≥a c∆° b·∫£n nh·∫•t c·ªßa OS: process. N√≥ ƒë∆∞·ª£c xem m·ªôt c√°ch kh√° ƒë∆°n gi·∫£n l√† m·ªôt ch∆∞∆°ng tr√¨nh ƒëang ch·∫°y. V·ªõi quan ƒëi·ªÉm kh√°i ni·ªám n√†y, b√¢y gi·ªù ch√∫ng ta s·∫Ω chuy·ªÉn sang c√°c chi ti·∫øt c·ªët l√µi: c√°c c∆° ch·∫ø c·∫•p th·∫•p c·∫ßn thi·∫øt ƒë·ªÉ tri·ªÉn khai process, v√† c√°c policy c·∫•p cao c·∫ßn thi·∫øt ƒë·ªÉ l·∫≠p l·ªãch (schedule) cho ch√∫ng m·ªôt c√°ch th√¥ng minh. B·∫±ng c√°ch k·∫øt h·ª£p c√°c c∆° ch·∫ø v√† policy, ch√∫ng ta s·∫Ω x√¢y d·ª±ng s·ª± hi·ªÉu bi·∫øt c·ªßa m√¨nh v·ªÅ c√°ch m·ªôt h·ªá ƒëi·ªÅu h√†nh ·∫£o h√≥a CPU.

> **T·∫¢N M·∫†N: C√ÅC THU·∫¨T NG·ªÆ CH√çNH V·ªÄ TI·∫æN TR√åNH**
>
> * **Ti·∫øn tr√¨nh (process)** l√† kh√°i ni·ªám tr·ª´u t∆∞·ª£ng h√≥a ch√≠nh c·ªßa h·ªá ƒëi·ªÅu h√†nh v·ªÅ m·ªôt ch∆∞∆°ng tr√¨nh ƒëang ch·∫°y. T·∫°i b·∫•t k·ª≥ th·ªùi ƒëi·ªÉm n√†o, process c√≥ th·ªÉ ƒë∆∞·ª£c m√¥ t·∫£ b·ªüi tr·∫°ng th√°i c·ªßa n√≥: n·ªôi dung b·ªô nh·ªõ trong kh√¥ng gian ƒë·ªãa ch·ªâ (address space) c·ªßa n√≥, n·ªôi dung c·ªßa c√°c thanh ghi CPU (bao g·ªìm b·ªô ƒë·∫øm ch∆∞∆°ng tr√¨nh - program counter v√† con tr·ªè ngƒÉn x·∫øp - stack pointer, c√πng nhi·ªÅu thanh ghi kh√°c), v√† th√¥ng tin v·ªÅ I/O (ch·∫≥ng h·∫°n nh∆∞ c√°c t·∫≠p tin ƒëang m·ªü c√≥ th·ªÉ ƒë∆∞·ª£c ƒë·ªçc ho·∫∑c ghi).
> * **API process** bao g·ªìm c√°c l·ªùi g·ªçi m√† ch∆∞∆°ng tr√¨nh c√≥ th·ªÉ th·ª±c hi·ªán li√™n quan ƒë·∫øn process. Th√¥ng th∆∞·ªùng, ƒëi·ªÅu n√†y bao g·ªìm vi·ªác t·∫°o (creation), h·ªßy (destruction), v√† c√°c l·ªùi g·ªçi h·ªØu √≠ch kh√°c.
> * C√°c process t·ªìn t·∫°i ·ªü m·ªôt trong nhi·ªÅu **tr·∫°ng th√°i process** kh√°c nhau, bao g·ªìm **ƒëang ch·∫°y (running)**, **s·∫µn s√†ng ch·∫°y (ready to run)**, v√† **b·ªã ch·∫∑n (blocked)**. C√°c s·ª± ki·ªán kh√°c nhau (v√≠ d·ª•: ƒë∆∞·ª£c l·∫≠p l·ªãch ƒë·ªÉ ch·∫°y ho·∫∑c b·ªã r√∫t kh·ªèi CPU, ho·∫∑c ch·ªù m·ªôt thao t√°c I/O ho√†n t·∫•t) s·∫Ω chuy·ªÉn m·ªôt process t·ª´ tr·∫°ng th√°i n√†y sang tr·∫°ng th√°i kh√°c.
> * M·ªôt **danh s√°ch process (process list)** ch·ª©a th√¥ng tin v·ªÅ t·∫•t c·∫£ c√°c process trong h·ªá th·ªëng. M·ªói m·ª•c nh·∫≠p ƒë∆∞·ª£c t√¨m th·∫•y trong m·ªôt c·∫•u tr√∫c ƒë√¥i khi ƒë∆∞·ª£c g·ªçi l√† **kh·ªëi qu·∫£n l√Ω process (process control block - PCB)**, th·ª±c ch·∫•t ch·ªâ l√† m·ªôt c·∫•u tr√∫c ch·ª©a th√¥ng tin v·ªÅ m·ªôt process c·ª• th·ªÉ.

## Tham kh·∫£o

[BH70] ‚ÄúThe Nucleus of a Multiprogramming System‚Äù  
Per Brinch Hansen  
Communications of the ACM, Volume 13, Number 4, April 1970  
This paper introduces one of the first microkernels in operating systems history, called Nucleus. The idea of smaller, more minimal systems is a theme that rears its head repeatedly in OS history; it all began with Brinch Hansen‚Äôs work described herein.

[CK+08] ‚ÄúThe xv6 Operating System‚Äù  
Russ Cox, Frans Kaashoek, Robert Morris, Nickolai Zeldovich  
From: https://github.com/mit-pdos/xv6-public  
The coolest real and little OS in the world. Download and play with it to learn more about the details of how operating systems actually work. We have been using an older version (2012-01-30-1-g1c41342) and hence some examples in the book may not match the latest in the source.

[DV66] ‚ÄúProgramming Semantics for Multiprogrammed Computations‚Äù  
Jack B. Dennis and Earl C. Van Horn  
Communications of the ACM, Volume 9, Number 3, March 1966  
This paper defined many of the early terms and concepts around building multiprogrammed systems.

[L+75] ‚ÄúPolicy/mechanism separation in Hydra‚Äù  
R. Levin, E. Cohen, W. Corwin, F. Pollack, W. Wulf  
SOSP 1975  
An early paper about how to structure operating systems in a research OS known as Hydra. While Hydra never became a mainstream OS, some of its ideas influenced OS designers.

[V+65] ‚ÄúStructure of the Multics Supervisor‚Äù  
V.A. Vyssotsky, F. J. Corbato, R. M. Graham  
Fall Joint Computer Conference, 1965  
An early paper on Multics, which described many of the basic ideas and terms that we find in modern systems. Some of the vision behind computing as a utility are finally being realized in modern cloud systems.

[prev](../03/03.md)|[next](../05/05.md)
